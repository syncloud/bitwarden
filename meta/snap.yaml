apps:
  server:
    user: bitwarden
    command: bin/service.bitwarden.sh
    daemon: simple
    start-timeout: 600s
    plugs:
    - network
    - network-bind
    restart-condition: always
    before: [nginx]

  nginx:
    user: bitwarden
    command: bin/service.nginx.sh
    daemon: simple
    plugs:
    - network
    - network-bind
    restart-condition: always
    start-timeout: 600s

  storage-change:
    command: bin/cli storage-change

  access-change:
    command: bin/cli access-change

  backup-pre-stop:
    command: bin/cli backup-pre-stop

  restore-pre-start:
    command: bin/cli restore-pre-start

  restore-post-start:
    command: bin/cli restore-post-start

  openssl:
    command: bin/openssl

confinement: strict
description: Bitwarden
grade: stable
name: bitwarden
summary: Password management
